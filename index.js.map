{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\nconst API_KEY = '52821628-dae3b3c31b624417cff84e51c';\n\nexport function getImagesByQuery(query) {\n  return axios('https://pixabay.com/api/', {\n    params: {\n      key: API_KEY,\n      q: query,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: true,\n    },\n  })\n    .then(response => {\n      return response.data.hits;\n    })\n    .catch(error => {\n      return [];\n    });\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst gallery = document.querySelector('.gallery');\n\nconst loader = document.querySelector('.loader');\n\nconst lightbox = new SimpleLightbox('.gallery-link', {\n  captions: true,\n  captionsData: 'alt',\n  captionDelay: 250,\n  overlayOpacity: 1,\n});\n\nexport function createGallery(images) {\n  const markup = images\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => `\n      <li class=\"gallery-item\">\n      <a class=\"gallery-link\" href=\"${largeImageURL}\">\n      <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\"/>\n      <ul class=\"gallery-desc\">\n      <li class=\"gallery-info\">\n      <span class=\"info-names\">Likes</span>\n      <span class=\"info-item\">${likes}</span>\n      </li>\n      <li class=\"gallery-info\">\n      <span class=\"info-names\">Views</span>\n      <span class=\"info-item\">${views}</span>\n      </li>\n      <li class=\"gallery-info\">\n      <span class=\"info-names\">Comments</span>\n      <span class=\"info-item\">${comments}</span>\n      </li>\n      <li class=\"gallery-info\">\n      <span class=\"info-names\">Downloads</span>\n      <span class=\"info-item\">${downloads}</span>\n      </li>\n      </ul>\n      </a>\n      </li>\n        `\n    )\n    .join('');\n\n  gallery.insertAdjacentHTML('beforeend', markup);\n  lightbox.refresh();\n}\nexport function clearGallery() {\n  gallery.innerHTML = '';\n}\nexport function showLoader() {\n  loader.classList.remove('hidden');\n}\n\nexport function hideLoader() {\n  loader.classList.add('hidden');\n}\n","import { getImagesByQuery } from './js/pixabay-api';\nimport {\n  clearGallery,\n  createGallery,\n  showLoader,\n  hideLoader,\n} from './js/render-functions';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst form = document.querySelector('.form');\n\nconst gallery = document.querySelector('.gallery');\n\nform.addEventListener('submit', handleSubmit);\n\nfunction handleSubmit(evt) {\n  evt.preventDefault();\n\n  const search = evt.target.elements['search-text'].value.trim();\n  if (!search) {\n    iziToast.warning({\n      message: 'Please enter a search term!',\n      position: 'topRight',\n    });\n    return;\n  }\n  clearGallery();\n  showLoader();\n\n  getImagesByQuery(search)\n    .then(images => {\n      hideLoader();\n      if (images.length === 0) {\n        throw new Error('Invalid search query');\n      }\n      createGallery(images, gallery);\n    })\n    .catch(error => {\n      hideLoader();\n      iziToast.error({\n        message:\n          'Sorry, there are no images matching your search query.Please try again!',\n        position: 'topRight',\n      });\n    });\n}\n"],"names":["API_KEY","getImagesByQuery","query","axios","response","error","gallery","loader","lightbox","SimpleLightbox","createGallery","images","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","clearGallery","showLoader","hideLoader","form","handleSubmit","evt","search","iziToast"],"mappings":"+vBACA,MAAMA,EAAU,qCAET,SAASC,EAAiBC,EAAO,CACtC,OAAOC,EAAM,2BAA4B,CACvC,OAAQ,CACN,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACb,CACL,CAAG,EACE,KAAKE,GACGA,EAAS,KAAK,IACtB,EACA,MAAMC,GACE,EACR,CACL,CChBA,MAAMC,EAAU,SAAS,cAAc,UAAU,EAE3CC,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAW,IAAIC,EAAe,gBAAiB,CACnD,SAAU,GACV,aAAc,MACd,aAAc,IACd,eAAgB,CAClB,CAAC,EAEM,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAASD,EACZ,IACC,CAAC,CACC,aAAAE,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAY;AAAA;AAAA,sCAE0BL,CAAa;AAAA,wCACXD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA,gCAIlCC,CAAK;AAAA;AAAA;AAAA;AAAA,gCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,gCAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,gCAIRC,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA,SAMpC,EACA,KAAK,EAAE,EAEVb,EAAQ,mBAAmB,YAAaM,CAAM,EAC9CJ,EAAS,QAAO,CAClB,CACO,SAASY,GAAe,CAC7Bd,EAAQ,UAAY,EACtB,CACO,SAASe,GAAa,CAC3Bd,EAAO,UAAU,OAAO,QAAQ,CAClC,CAEO,SAASe,GAAa,CAC3Bf,EAAO,UAAU,IAAI,QAAQ,CAC/B,CCtDA,MAAMgB,EAAO,SAAS,cAAc,OAAO,EAE3B,SAAS,cAAc,UAAU,EAEjDA,EAAK,iBAAiB,SAAUC,CAAY,EAE5C,SAASA,EAAaC,EAAK,CACzBA,EAAI,eAAc,EAElB,MAAMC,EAASD,EAAI,OAAO,SAAS,aAAa,EAAE,MAAM,OACxD,GAAI,CAACC,EAAQ,CACXC,EAAS,QAAQ,CACf,QAAS,8BACT,SAAU,UAChB,CAAK,EACD,MACD,CACDP,IACAC,IAEApB,EAAiByB,CAAM,EACpB,KAAKf,GAAU,CAEd,GADAW,IACIX,EAAO,SAAW,EACpB,MAAM,IAAI,MAAM,sBAAsB,EAExCD,EAAcC,CAAe,CACnC,CAAK,EACA,MAAMN,GAAS,CACdiB,IACAK,EAAS,MAAM,CACb,QACE,0EACF,SAAU,UAClB,CAAO,CACP,CAAK,CACL"}